function initializeAnimations(){var e=document.body.clientWidth,t=document.body.clientHeight,o=mobileBreakPoint>e,i=t>e,a=o||!Modernizr.csstransforms3d,n="50%",r=($("#download-resume-btn").width(),$("#download-resume-btn").height(),$("#download-resume-btn").css("font-size").split("px")[0],1500),s=1;$(".panel").each(function(a,n){var l,c,d=$(n).data("p-num"),g=$("#panel-"+d+"-layout"),f=$(n).find("img"),m=f.width(),p=(e-m)/2,h=p+m-e,u=f.height()-t;a%2===0?(l="-="+(h-10)+"px",c=0):(l=0,c="-="+(h-10)+"px");var y=(new TimelineMax).to(f,4,{top:-(u-10)}).to(f,2,{left:l,ease:Power1.easeOut},0).to(f,2,{left:c,ease:Power1.easeIn},2);if(new ScrollMagic.Scene({triggerElement:g.find(".start-scroll-trigger"),triggerHook:"onLeave",duration:g.find(".end-scroll-trigger").offset().top-g.find(".start-scroll-trigger").offset().top}).setTween(y).addTo(controller),0!==a){var w=0;i||o||(w=a%2===1?"-50%":"0%");var b=(new TimelineMax).from(n,1,{x:w,opacity:0}),v=new ScrollMagic.Scene({triggerElement:$("#panel-wipe-trigger-"+d),triggerHook:"onLeave",duration:r}).setTween(b).addTo(controller);v.on("start",function(e){if("FORWARD"===e.scrollDirection)return void(s=!1);var t=$(e.target.triggerElement()).data("triggers")-1;s=t}),v.on("end",function(e){if("REVERSE"===e.scrollDirection)return void(s=!1);var t=$(e.target.triggerElement()).data("triggers");s=t})}});var l=(new TimelineMax).staggerTo($("#main-header, #scroll-for-more"),1,{opacity:0},.5);new ScrollMagic.Scene({triggerElement:$("#main-header-disappear-trigger"),triggerHook:"onLeave",duration:600}).setTween(l).addTo(controller),$(".animate-container").each(function(t,o){var i=$(o).find(".animate-box"),r=i[0].className,s=42,l=t%2===0?-s:s,c=-10,d=-1*e*1.3,g=(new TimelineMax).set(i,{top:(100-$(i).height()/document.body.clientHeight*100)/2+"%"});switch(t){case 0:g.set(i,{opacity:0}),a?g.set(i,{left:-animateBoxWidth-1+"%"}):g.set(i,{rotationY:l,rotationX:c,transformOrigin:"50% 50% "+d,transformPerspective:1e3}),a?g.to(i,1,{left:50-animateBoxWidth/2+"%",opacity:1,ease:Power2.easeOut}):g.to(i,1,{rotationY:0,rotationX:0,opacity:1,ease:Power2.easeOut}),$(o).find(".lettering").each(function(e,t){g.staggerTo($(t).children(),.1,{visibility:"initial"},.01)}),g.add("highlight").staggerTo($(o).find(".lettering").children(),.1,{backgroundColor:"gray",delay:.5},.01).staggerTo($(o).find(".lettering").children(),.1,{color:"white",delay:.5},.01,"highlight").set($(o).find(".lettering").children(),{visibility:"hidden",delay:.5}).set(i,{backgroundColor:"rgba(200,0,0,.85)"}).add("delete").to(i,.5,{backgroundColor:"rgba(0,0,0,.85)",ease:Power2.easeOut}).to(i,1,{scaleX:.05,delay:.5,ease:Power2.easeIn},"delete").to(i,1,{scaleY:0,scaleY:0,ease:Power2.easeIn});break;case 1:g.set(i,{scaleX:0,scaleY:0,transformOrigin:"50% 50% "+d,transformPerspective:1e3}).to(i,1,{scaleY:.05}).to(i,1,{scaleX:1}).to(i,1,{scaleY:1}),$(o).find(".lettering").each(function(e,t){g.staggerTo($(t).children(),.1,{visibility:"visible"},.01)});var f=addClasses(r,"prepping-rocket");g.to(i,1,{css:{className:f}}),f=addClasses(r,"launching-rocket"),g.add("takeoff").to(i,1.5,{css:{className:f},ease:RoughEase.ease.config({template:Power0.easeNone,strength:1.5,points:20,taper:"none",randomize:!0,clamp:!0})},"takeoff"),a?g.to(i,1,{left:"100%",ease:Power3.easeIn},"takeoff+=.5"):g.to(i,1,{rotationY:l,rotationX:-c,ease:Power3.easeIn},"takeoff+=.5");break;case 2:;g.set(i,{scale:0,opacity:0}).to(i,1,{scale:1,opacity:1,ease:Back.easeOut.config(2)}).add("orbit","+=1").to($("#see-resume-btn"),1,{top:n},"orbit").to($("#download-resume-btn"),1,{top:0},"orbit"),g.add("orbit2").set($("#see-resume-btn"),{zIndex:3}).set($("#download-resume-btn"),{zIndex:1}).to($("#see-resume-btn"),1,{top:0},"orbit2").to($("#download-resume-btn"),1,{top:n},"orbit2");break;case 3:var m=$(".animate-container").eq(t-1).find(".animate-box");g.set(i,{left:"100%"}).to(i,1,{left:50+animateBoxWidth/2+"%",ease:Linear.easeNone}).add("gtfo").to(i,2,{left:50-animateBoxWidth/2+"%",ease:Linear.easeNone}).to(m,1,{left:-animateBoxWidth-10+"%",ease:Linear.easeNone},"gtfo").staggerTo($(i).find("h2, .word"),.5,{scale:3,opacity:0,delay:1},.1).to(i,1,{scale:3,opacity:0,delay:1});break;case 4:a?g.set(i,{top:"100%"}).to(i,1,{top:(100-$(i).height()/document.body.clientHeight*100)/2+"%"}).to(i,1,{}).staggerTo(i.find(".anim"),1,{opacity:0},.1).to(i,1,{opacity:0}):g.set(i,{transformPerspective:1e3,transformOrigin:"50% top",rotationX:-90}).set(i.find(".anim"),{}).to(i,4,{rotationX:0,ease:Elastic.easeOut.config(2,.3)}).to(i.find(".anim"),2,{rotationX:90,delay:1},2).to(i,1,{height:$(".animate-box").eq(t+1).height(),rotationX:90});break;case 5:if(a){i.height();g.set(i.children(),{opacity:0}).set(i,{opacity:0}).to(i,1,{opacity:1}).staggerTo(i.children(),1,{opacity:1},.2).to(i,1,{top:"-200%",delay:1})}else g.set(i,{transformPerspective:3e3,transformOrigin:"50% top",rotationX:90}).set(i.children(),{opacity:0}).add("swing").to(i,1,{rotationX:360}).to(i.children(),1,{opacity:1},"swing").set(i,{transformOrigin:"right bottom"}).to(i,1,{rotationY:180,delay:1}).to(i,1,{rotationX:540}).set(i,{transformOrigin:"left bottom",left:50+3*animateBoxWidth/2+"%",rotationY:-180}).to(i,1,{rotationY:0})}var p=new ScrollMagic.Scene({triggerElement:$(o),triggerHook:"onEnter",duration:$(o).height()}).setTween(g).addTo(controller);scenes.push(p),p.on("start",function(e){"FORWARD"===e.scrollDirection?(currentScene=p,$(i).css("visibility","visible")):(currentScene=!1,$(i).css("visibility","hidden"))}),p.on("end",function(e){"FORWARD"===e.scrollDirection?(currentScene=!1,2!==t&&$(i).css("visibility","hidden")):(currentScene=p,$(i).css("visibility","visible"))})});var l=(new TimelineMax).to($("#site-examples .example-container"),0,{display:"block"}).staggerFromTo($(".site-example, #site-example-header"),1,{left:"-100%",top:"100vH",opacity:0},{left:"0",top:"12vH",opacity:1,ease:Elastic.easeOut.config(1,.75)},.2).staggerTo($(".site-example"),.2,{scale:1.2,filter:"grayscale(0)",yoyo:!0,repeat:1},.2).staggerTo($(".site-example, #site-example-header"),1,{left:"100%",top:"100vH",opacity:0,ease:Back.easeIn.config(1)},.2),c=new ScrollMagic.Scene({triggerElement:$("#site-example-trigger"),triggerHook:"onEnter",duration:3e3}).setTween(l).addTo(controller);$(".site-example").mouseover(function(){console.log("stuff"),TweenMax.to($(this),.3,{scale:1.5,zIndex:100,ease:Back.easeOut.config(3)})}),$(".site-example").mouseout(function(){TweenMax.to($(this),.3,{scale:1,zIndex:1})});var d=$(".site-example");c.on("start",function(e){"FORWARD"===e.scrollDirection?$(d).css("display","block"):$(d).css("display","none")}),c.on("end",function(e){"FORWARD"===e.scrollDirection?$(d).css("display","none"):$(d).css("display","block")}),l=(new TimelineMax).set($("#footer"),{display:"flex",opacity:0}).to($("#footer"),1,{opacity:1}),new ScrollMagic.Scene({triggerElement:$("#footer-animation-trigger"),triggerHook:"onEnter",duration:500}).setTween(l).addTo(controller),$(".btn").mouseover(function(){TweenMax.to($(this),.2,{className:"+=hover",color:"orange"})}).mouseout(function(){TweenMax.to($(this),.2,{className:"-=hover"})}),o||(controller.scrollTo(function(e){TweenMax.to(window,2,{scrollTo:{y:e}})}),$(document).on("click","a[href^='#']",function(e){var t=$(this).attr("href");$(t).length>0&&(e.preventDefault(),controller.scrollTo(t),window.history&&window.history.pushState&&history.pushState("",document.title,t))}))}function changeClasses(e,t,o){return removeClasses(addClasses(e,t),o)}function removeClasses(e,t){var o=e.split(" "),i=t.split(" ");return o=o.filter(function(e){return-1===i.indexOf(e)}),o.join(" ")}function addClasses(e,t){return e+" "+t}var messageWidth=20,animateBoxWidth=80,mobileBreakPoint=1e3,controller=new ScrollMagic.Controller,scenes=[],currentScene=!1;